# simple state machine with no error check psuedocode
class StateMachine
{
    Map<String, IState> mStates = new Map<String, IState>();
    IState mCurrentState = EmptyState;
 
    public void Update(float elapsedTime)
    {
        mCurrentState.Update(elapsedTime);
    }
 
    public void Render()
    {
        mCurrentState.Render();
    }
 
    public void Change(String stateName, optional var params)
    {
        mCurrentState.OnExit();
        mCurrentState = mStates[stateName];
        mCurrentState.OnEnter(params);
    }
 
    public void Add(String name, IState state)
    {
        mStates[name] = state;
    }
}
